{
    "name":"test",
    "version":1.0,
    "resources":
    {
        "textures":
        [
            {
                "name":"flower1",
                "frameCount":75,
                "frameWidth":150,
                "frameHeight":150
            },
            {
                "name":"snow",
                "frameCount":1,
                "frameWidth":200,
                "frameHeight":200
            }
            
        ]
    },
    "define":
    {
        "camera":
        {
            "type":"perspective",
            "lookX":0,
            "lookY":0,
            "lookZ":-1,
            "positionX":"sin(panX)",
            "positionY":0,
            "positionZ":"cos(panX)",
            "upX":0,
            "upY":1,
            "upZ":0
        },
        "objects":
        {
            "snow":
            {
                "type":"default",
                "sprite":
                {
                    "colorR":1,
                    "colorG":1,
                    "colorB":1,
                    "colorA":1,
                    "texture":"snow",
                    "frameIndex":0,
                    "width":100,
                    "height":100
                },
                "life":20,
                "rotation":0,
                "positionX":"rand0%1000-500",
                "positionY":"last_positionY-t*40",
                "positionZ":"rand2%1000-500"
            },
            "snowGun":
            {
                "type":"default",
                "emitter":
                {
                    "emitRate":100,
                    "emitObjects":
                    [
                        "snow"
                    ]
                },
                "rotation":0,
                "positionX":0,
                "positionY":100,
                "positionZ":0
            }

        }
    },
    "stages":
    [
        {
            "name":"stage1",
            "events":
            [
                {
                    "name":"delay",
                    "time":3,
                    "action":
                    { 
                        "type":"change_stage",
                        "target":"stage2"
                    }
                },
                {
                    "name":"tap",
                    "action":
                    {
                        "type":"change_stage",
                        "target":"stage2"
                    }
                }

            ],
            "enter_stage":
            {
                "add":
                [
                    {
                        "group":"aa",
                        "object":"snowGun"
                    }
                ]
            },
            "leave_stage":
            {
                "remove":
                [
                    {
                        "group":"aa",
                        "object":"snowGun"
                    }
                ]
            }
        },
        {
            "name":"stage2",
            "define":
            {
                "snow":
                {
                    "positionY":"last_positionY"
                }
            },
            "events":
            [
                {
                    "name":"delay",
                    "time":3,
                    "action":
                    { 
                        "type":"change_stage",
                        "target":"stage1"
                    }
                },
                {
                    "name":"tap",
                    "action":
                    {
                        "type":"change_stage",
                        "target":"stage1"
                    }
                }

            ]
        }
    ]
    
}
